import{r as n,j as a,M as b}from"./index-DjlAXPpQ.js";const P=e=>{const[t,s]=n.useState([]),[l,o]=n.useState(null),[u,i]=n.useState(!1),c=async p=>{try{i(!0);const x=await(await fetch(p)).json();s(x),i(!1)}catch(f){o(f)}};return n.useEffect(()=>{c(e)},[e]),{data:t,error:l,loading:u}},w=({totalPages:e,currentPage:t,onPrevButtonHandler:s,onNextButtonHandler:l,onPageSelectHandler:o})=>{let u=new Array(e).fill(0);return a.jsxs("div",{className:"flex justify-center",children:[a.jsx("span",{className:`w-10 h-10 border flex justify-center items-center  ${t===1?"cursor-not-allowed bg-slate-200":"cursor-pointer bg-slate-400"}`,onClick:s,children:"◀️"}),u.map((i,c)=>a.jsx("span",{onClick:()=>o(c+1),className:`w-10 h-10 border flex justify-center items-center cursor-pointer ${t===c+1?"bg-green-400":"bg-slate-400"}`,children:c+1},c)),a.jsx("span",{className:`w-10 h-10 border flex justify-center items-center  ${t===e?"cursor-not-allowed bg-slate-200":"cursor-pointer bg-slate-400"}`,onClick:l,children:"▶️"})]})};function y(e,t){let s=t/e;return t%e?Math.floor(s)+1:s}const g=20,E=()=>{const[e,t]=n.useState(1),[s,l]=n.useState(),[o,u]=n.useState({}),{data:i,loading:c,error:p}=P(`https://dummyjson.com/products?limit=${g}&skip=${(e-1)*g}`);n.useEffect(()=>{const{limit:r,total:m}=o;if(m){let h=y(g,m);l(h)}},[o]),n.useEffect(()=>{u(i)},[i]);const f=r=>{r!==e&&t(r)},x=()=>{e!==s&&t(r=>r+1)},j=()=>{e!==1&&t(r=>r-1)},{products:d}=o;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex flex-wrap",children:d!=null&&d.length?d.map((r,m)=>a.jsx(b,{meme:r},m)):null}),e&&s&&a.jsx(w,{totalPages:s,currentPage:e,onNextButtonHandler:x,onPrevButtonHandler:j,onPageSelectHandler:f})]})};export{g as LIMIT,E as default};
